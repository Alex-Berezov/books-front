# üö® DELETE Page –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 404 –Ω–∞ Production

## –°–∏—Ç—É–∞—Ü–∏—è

–§—Ä–æ–Ω—Ç–µ–Ω–¥ –ø–æ–ª—É—á–∞–µ—Ç 404 –ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ —É–¥–∞–ª–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É –Ω–∞ **production** (`https://api.bibliaris.com`):

```
DELETE /api/admin/en/pages/871c9894-51ee-44ce-b647-855fe557ecf7
Response: 404 Not Found
```

## ‚úÖ Endpoint —Ä–∞–±–æ—Ç–∞–µ—Ç!

Production —Å–µ—Ä–≤–µ—Ä –∞–∫—Ç—É–∞–ª–µ–Ω, endpoint —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω:

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è endpoint –≤ Swagger
curl -s https://api.bibliaris.com/docs-json | \
  jq '.paths."/admin/{lang}/pages/{id}"'

# –†–µ–∑—É–ª—å—Ç–∞—Ç: {"delete": {...}, "patch": {...}}
```

## üéØ –°–∞–º–∞—è –≤–µ—Ä–æ—è—Ç–Ω–∞—è –ø—Ä–∏—á–∏–Ω–∞

**–°—Ç—Ä–∞–Ω–∏—Ü–∞ —Å ID `871c9894-51ee-44ce-b647-855fe557ecf7` –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ production –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö.**

## –ü—Ä–æ–≤–µ—Ä–∫–∞ (–¥–ª—è –±—ç–∫–µ–Ω–¥-—Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞)

### 1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ production —Å–µ—Ä–≤–µ—Ä

```bash
curl https://api.bibliaris.com/api/health
# {"status":"ok",...}
```

### 2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é

```bash
# –û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ
https://api.bibliaris.com/docs

# –ù–∞–π–¥–∏—Ç–µ: DELETE /admin/{lang}/pages/{id}
# Endpoint –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ —Å–ø–∏—Å–∫–µ
```

### 3. **–ì–ª–∞–≤–Ω–æ–µ: –ø—Ä–æ–≤–µ—Ä—å—Ç–µ, —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –ª–∏ —Å—Ç—Ä–∞–Ω–∏—Ü–∞**

```bash
# –ü–æ–ª—É—á–∏—Ç–µ —Ç–æ–∫–µ–Ω –∞–¥–º–∏–Ω–∞ –∏–∑ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ (—Å–º. DevTools ‚Üí Network ‚Üí –ª—é–±–æ–π –∑–∞–ø—Ä–æ—Å ‚Üí Authorization header)

curl -H "Authorization: Bearer ADMIN_TOKEN_FROM_FRONTEND" \
  https://api.bibliaris.com/api/admin/pages/871c9894-51ee-44ce-b647-855fe557ecf7
```

**–û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã:**

- ‚úÖ **200 OK + –¥–∞–Ω–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã** ‚Üí —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, DELETE –¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å
- ‚ùå **404 Not Found** ‚Üí **—Å—Ç—Ä–∞–Ω–∏—Ü—ã –ù–ï–¢ –≤ –±–∞–∑–µ** ‚Äî —ç—Ç–æ –∏ –µ—Å—Ç—å –ø—Ä–∏—á–∏–Ω–∞ 404 –ø—Ä–∏ DELETE!

## –ß—Ç–æ —Å–∫–∞–∑–∞—Ç—å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥—É

### –ï—Å–ª–∏ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –ù–ï —Å—É—â–µ—Å—Ç–≤—É–µ—Ç (404 –Ω–∞ GET)

````
‚úÖ Endpoint —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ!

–°—Ç—Ä–∞–Ω–∏—Ü–∞ —Å ID 871c9894-51ee-44ce-b647-855fe557ecf7 –Ω–µ –Ω–∞–π–¥–µ–Ω–∞ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö.

–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:
1. –°—Ç—Ä–∞–Ω–∏—Ü–∞ —É–∂–µ –±—ã–ª–∞ —É–¥–∞–ª–µ–Ω–∞ (—Ü–µ–ª—å –¥–æ—Å—Ç–∏–≥–Ω—É—Ç–∞!)
2. ID —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –Ω–µ–≤–µ—Ä–Ω–æ
3. –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–æ–∑–¥–∞–≤–∞–ª–∞—Å—å –≤ local –æ–∫—Ä—É–∂–µ–Ω–∏–∏, –∞ –≤—ã –ø—Ä–æ–≤–µ—Ä—è–µ—Ç–µ production
4. –°—Ç—Ä–∞–Ω–∏—Ü–∞ –±—ã–ª–∞ —É–¥–∞–ª–µ–Ω–∞ –≤—Ä—É—á–Ω—É—é –∏–∑ –ë–î

–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è –¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞:
DELETE –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω—ã–º. –ï—Å–ª–∏ GET /admin/pages/:id –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 404,
—Ç–æ DELETE /admin/:lang/pages/:id —Ç–æ–∂–µ –≤–µ—Ä–Ω—ë—Ç 404 ‚Äî —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ.

–ü—Ä–µ–¥–ª–∞–≥–∞–µ–º–æ–µ —Ä–µ—à–µ–Ω–∏–µ:
```typescript
// –û–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å 404 –∫–∞–∫ —É—Å–ø–µ—Ö (—Å—Ç—Ä–∞–Ω–∏—Ü–∞ —É–¥–∞–ª–µ–Ω–∞)
if (response.status === 204 || response.status === 404) {
  return { success: true };
}
````

### –ï—Å–ª–∏ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –°–£–©–ï–°–¢–í–£–ï–¢ (200 –Ω–∞ GET), –Ω–æ DELETE –≤—Å—ë —Ä–∞–≤–Ω–æ 404

```
üêõ –ù–∞—à–ª–∏ —Ä–µ–∞–ª—å–Ω—ã–π –±–∞–≥!

–°—Ç—Ä–∞–Ω–∏—Ü–∞ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç (GET –≤–µ—Ä–Ω—É–ª 200), –Ω–æ DELETE –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 404.

–®–∞–≥–∏ –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–æ—á–Ω—ã–π URL DELETE –∑–∞–ø—Ä–æ—Å–∞ (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å /api/admin/:lang/pages/:id)
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ production —Å–µ—Ä–≤–µ—Ä–∞
3. –í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–∏—Ç–µ –ø—Ä–æ–±–ª–µ–º—É —á–µ—Ä–µ–∑ Swagger UI: https://api.bibliaris.com/docs
```

## –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ (SSH)

–ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å SSH –¥–æ—Å—Ç—É–ø –∫ production —Å–µ—Ä–≤–µ—Ä—É:

```bash
# –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ —Å–µ—Ä–≤–µ—Ä—É
ssh your-server

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
docker logs books-app-prod --tail 100 -f

# –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ production –±–∞–∑–µ
docker exec -it books-db psql -U books_super_admin -d books

# –í psql:
SELECT id, slug, title, language, status, "createdAt"
FROM "Page"
WHERE id = '871c9894-51ee-44ce-b647-855fe557ecf7';

# –ï—Å–ª–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø—É—Å—Ç–æ–π ‚Äî —Å—Ç—Ä–∞–Ω–∏—Ü—ã –Ω–µ—Ç –≤ –±–∞–∑–µ
```

## –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–µ–ø–ª–æ—è

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–æ—Å–ª–µ–¥–Ω–∏–π –∫–æ–º–º–∏—Ç –∑–∞–¥–µ–ø–ª–æ–µ–Ω:

```bash
# –õ–æ–∫–∞–ª—å–Ω–æ: –ø–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ø–æ—Å–ª–µ–¥–Ω–∏–π –∫–æ–º–º–∏—Ç
git log --oneline -1

# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ (SSH):
cd ~/books-app-back
git log --oneline -1

# –í–µ—Ä—Å–∏–∏ –¥–æ–ª–∂–Ω—ã —Å–æ–≤–ø–∞–¥–∞—Ç—å
```

## –ò—Ç–æ–≥

**–í 99% —Å–ª—É—á–∞–µ–≤:**

- ‚úÖ Endpoint —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚ùå –°—Ç—Ä–∞–Ω–∏—Ü–∞ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ –±–∞–∑–µ

**–†–µ—à–µ–Ω–∏–µ:**

- –§—Ä–æ–Ω—Ç–µ–Ω–¥ –¥–æ–ª–∂–µ–Ω –ø—Ä–æ–≤–µ—Ä—è—Ç—å —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø–µ—Ä–µ–¥ DELETE
- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å 404 –∫–∞–∫ —É—Å–ø–µ—à–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ (–∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å)

**–°–º. —Ç–∞–∫–∂–µ:**

- [PAGES_DELETE_404.md](./PAGES_DELETE_404.md) ‚Äî –ü–æ–ª–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞
- [PAGES_DELETE_404_QUICKFIX.md](./PAGES_DELETE_404_QUICKFIX.md) ‚Äî Quick fix –¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞
